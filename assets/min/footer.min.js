/*! kontakModalfront.min.js */
$(document).on("click",'#btnOpenMenu, [data-target="#kontakModalfront"]',function(e){e.preventDefault(),e.stopPropagation(),$("#kontakModalfront").modal({backdrop:!1,keyboard:!0,show:!0});return!1}),document.addEventListener("DOMContentLoaded",function(){const m=document.getElementById("kontakModalfront"),d=m.querySelector(".modal-dialog"),b=m.querySelector(".modal-body"),h=m.querySelector(".modal-header"),T=100,Y=400,V=.45;let sY=0,lY=0,lT=0,g=!1,c=!1;function onStart(ev){const t=ev.touches?ev.touches[0]:ev;if(!(h.contains(t.target)||b&&b.scrollTop<=0))return;g=!0,c=!1,sY=lY=t.clientY,lT=performance.now(),d.classList.remove("sheet-animate-out"),d.classList.remove("sheet-animate-in"),d.classList.remove("sheet-snap")}function onMove(ev){if(!g)return;const t=ev.touches?ev.touches[0]:ev,dy=t.clientY-sY;dy>0&&b&&b.scrollTop<=0&&(ev.preventDefault(),c=!0,d.style.transform=`translateY(${Math.min(dy,Y)}px)`),lY=t.clientY,lT=performance.now()}function onEnd(){if(!g)return;g=!1;const nowTs=performance.now(),dt=Math.max(1,nowTs-lT),dy=Math.max(0,lY-sY),v=dy/dt;d.classList.add("sheet-snap"),(dy>T||v>V)&&c?(d.style.transform=`translateY(${Math.max(dy,T)+120}px)`,d.addEventListener("transitionend",function f(){d.removeEventListener("transitionend",f),$(m).modal("hide"),d.style.transform="",d.classList.remove("sheet-snap")},{once:!0})):(d.style.transform="translateY(0)",d.addEventListener("transitionend",function f(){d.removeEventListener("transitionend",f),d.style.transform="",d.classList.remove("sheet-snap")},{once:!0}))}$(m).on("show.bs.modal",function(){d.style.transform="",d.classList.remove("sheet-snap")}),m.addEventListener("touchstart",onStart,{passive:!1}),m.addEventListener("touchmove",onMove,{passive:!1}),m.addEventListener("touchend",onEnd,{passive:!0}),m.addEventListener("mousedown",onStart),window.addEventListener("mousemove",onMove),window.addEventListener("mouseup",onEnd)}),document.addEventListener("DOMContentLoaded",function(){const m=document.getElementById("kontakModalfront");if(!m)return;const d=m.querySelector(".modal-dialog"),b=m.querySelector(".modal-body"),h=m.querySelector(".modal-header"),T=100,Y=400,V=.45;let sY=0,lY=0,lT=0,g=!1,c=!1;function slideClose(){d.classList.add("sheet-snap"),d.style.transform=`translateY(${T+120}px)`;let done=!1;const finish=()=>{done||(done=!0,$(m).modal("hide"),d.style.transform="",d.classList.remove("sheet-snap"))};d.addEventListener("transitionend",function f(){d.removeEventListener("transitionend",f),finish()},{once:!0}),setTimeout(finish,300)}const builtinClose=m.querySelector('[data-dismiss="modal"], .close');builtinClose&&builtinClose.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),slideClose()});const arrowBtn=m.querySelector("#btnSlideDownClose");function isCloseControl(el){return!!(el.closest('[data-dismiss="modal"]')||el.closest(".close")||el.closest("#btnSlideDownClose"))}function onStart(ev){const t=ev.touches?ev.touches[0]:ev;if(isCloseControl(t.target))return;const canStart=h.contains(t.target)||b&&b.scrollTop<=0;if(!canStart)return;g=!0,c=!1,sY=lY=t.clientY,lT=performance.now(),d.classList.remove("sheet-snap")}function onMove(ev){if(!g)return;const t=ev.touches?ev.touches[0]:ev,dy=t.clientY-sY;dy>0&&b&&b.scrollTop<=0&&(ev.preventDefault(),c=!0,d.style.transform=`translateY(${Math.min(dy,Y)}px)`),lY=t.clientY,lT=performance.now()}function onEnd(){if(!g)return;g=!1;const nowTs=performance.now(),dt=Math.max(1,nowTs-lT),dy=Math.max(0,lY-sY),v=dy/dt;d.classList.add("sheet-snap"),(dy>T||v>V)&&c?(d.style.transform=`translateY(${Math.max(dy,T)+120}px)`,d.addEventListener("transitionend",function f(){d.removeEventListener("transitionend",f),$(m).modal("hide"),d.style.transform="",d.classList.remove("sheet-snap")},{once:!0})):(d.style.transform="translateY(0)",d.addEventListener("transitionend",function f(){d.removeEventListener("transitionend",f),d.style.transform="",d.classList.remove("sheet-snap")},{once:!0}))}arrowBtn&&arrowBtn.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),slideClose()}),$(m).on("show.bs.modal",function(){d.style.transform="",d.classList.remove("sheet-snap")}),m.addEventListener("touchstart",onStart,{passive:!1}),m.addEventListener("touchmove",onMove,{passive:!1}),m.addEventListener("touchend",onEnd,{passive:!0}),m.addEventListener("mousedown",onStart),window.addEventListener("mousemove",onMove),window.addEventListener("mouseup",onEnd)});
