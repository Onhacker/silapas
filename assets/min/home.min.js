!function(){const e=document.getElementById("heroTrack");if(!e)return;const t=Array.from(e.querySelectorAll(".pwa-hero__slide")),n=document.querySelector(".pwa-hero__nav.prev"),r=document.querySelector(".pwa-hero__nav.next"),o=document.getElementById("heroDots"),i=t.length;let s=0,c=null,l=!1,a=!1,d=null;const u=t.map(((e,t)=>{const n=document.createElement("button");return n.type="button",n.setAttribute("aria-label",`Ke slide ${t+1}`),n.addEventListener("click",(()=>h(t,!0))),o.appendChild(n),n})),f=e=>(e+i)%i;function v(e){u.forEach(((t,n)=>t.setAttribute("aria-current",n===e?"true":"false")))}function h(n,r=!1){s=f(n);const o=t[s];e.scrollTo({left:o.offsetLeft,behavior:"smooth"}),v(s),r&&y(6e3);const i=t[f(s+1)].querySelector("img");i&&"lazy"===i.loading&&(i.loading="eager")}let m=null;function g(){c||l||(c=setInterval((()=>h(s+1,!1)),5e3))}function E(){c&&(clearInterval(c),c=null)}function y(e=4e3){E(),d&&clearTimeout(d),l||(d=setTimeout((()=>g()),e))}if("IntersectionObserver"in window&&(m=new IntersectionObserver((e=>{let n=s,r=0;for(const o of e)o.isIntersecting&&o.intersectionRatio>r&&(r=o.intersectionRatio,n=t.indexOf(o.target));r>=.6&&-1!==n&&(s=n,v(s))}),{root:e,threshold:function(){const e=[];for(let t=0;t<=1;t+=.05)e.push(+t.toFixed(2));return e}()}),t.forEach((e=>m.observe(e)))),n&&n.addEventListener("click",(()=>h(s-1,!0))),r&&r.addEventListener("click",(()=>h(s+1,!0))),e.addEventListener("scroll",(function(){m||a||(a=!0,requestAnimationFrame((()=>{const n=e.scrollLeft;let r=0,o=1/0;for(let e=0;e<i;e++){const i=Math.abs(t[e].offsetLeft-n);i<o&&(o=i,r=e)}r!==s&&(s=r,v(s)),a=!1})))}),{passive:!0}),e.addEventListener("pointerenter",(()=>{l=!0,y(1e6)})),e.addEventListener("pointerleave",(()=>{l=!1,g()})),e.addEventListener("focusin",(()=>{l=!0,y(1e6)})),e.addEventListener("focusout",(()=>{l=!1,g()})),e.addEventListener("keydown",(e=>{"ArrowRight"===e.key&&(e.preventDefault(),h(s+1,!0)),"ArrowLeft"===e.key&&(e.preventDefault(),h(s-1,!0))})),document.addEventListener("visibilitychange",(()=>document.hidden?E():g())),"IntersectionObserver"in window){new IntersectionObserver((t=>{t.forEach((t=>t.target===e&&(t.isIntersecting?g():E())))}),{threshold:.2}).observe(e)}v(0),t[1]?.querySelector("img")&&(t[1].querySelector("img").loading="eager"),g()}();
!function(){const e=document.getElementById("quickmenu"),t=document.querySelector(".quickmenu-btn.left"),n=document.querySelector(".quickmenu-btn.right");if(!e||!t||!n||e.dataset.inited)return;e.dataset.inited="1";const o=()=>Math.max(.9*e.clientWidth,160),r=()=>e.scrollLeft<=2,a=()=>e.scrollLeft+e.clientWidth>=e.scrollWidth-2;function i(){t.disabled=r(),n.disabled=a()}function l(t){e.scrollTo({left:e.scrollLeft+t*o(),behavior:"smooth"})}t.addEventListener("click",(()=>l(-1))),n.addEventListener("click",(()=>l(1)));let s=!1;e.addEventListener("scroll",(()=>{s||(s=!0,requestAnimationFrame((()=>{i(),s=!1})))}),{passive:!0}),window.addEventListener("resize",i),e.addEventListener("keydown",(e=>{"ArrowRight"===e.key&&(e.preventDefault(),l(1)),"ArrowLeft"===e.key&&(e.preventDefault(),l(-1))})),i()}();
(()=>{const e=document.getElementById("featureSlider");if(!e)return;const t=e.querySelector(".fs-track"),n=e.querySelector(".fs-nav.prev"),o=e.querySelector(".fs-nav.next");if(!t)return;const r=()=>t.clientWidth,a=()=>Math.max(1,Math.round(t.scrollWidth/r())),i=()=>Math.round(t.scrollLeft/r()),l=(e,t,n)=>Math.max(t,Math.min(n,e));function s(e){const n=l(e,0,a()-1);t.scrollTo({left:n*r(),behavior:"smooth"})}n?.addEventListener("click",(()=>s(i()-1))),o?.addEventListener("click",(()=>s(i()+1)));let c=!1,d=0,f=0;t.addEventListener("pointerdown",(e=>{c=!0,d=e.clientX,f=t.scrollLeft,t.setPointerCapture(e.pointerId)})),t.addEventListener("pointermove",(e=>{c&&(t.scrollLeft=f-(e.clientX-d))})),["pointerup","pointercancel","mouseleave"].forEach((e=>t.addEventListener(e,(()=>c=!1)))),t.addEventListener("scroll",(()=>{cancelAnimationFrame(0)}),{passive:!0})})();
